<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Özcan Askı - Sipariş Sistemi</title>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; background: #f4f6f9; }
    .header {
      background-color: #003366;
      color: white;
      display: flex;
      align-items: center;
      padding: 10px 20px;
    }
    .header img {
      height: 50px;
      margin-right: 15px;
    }
    .container {
      max-width: 700px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #007bff;
      color: white;
      border: none;
    }
    .siparis {
      border-left: 5px solid #007bff;
      background: #f0f4ff;
      padding: 10px;
      margin-top: 15px;
      border-radius: 5px;
    }
    .filters button {
      width: auto;
      margin: 5px;
      background: #6c757d;
    }
    .filters button.active {
      background: #343a40;
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="ozcan_aski_logo.png" alt="Özcan Askı Logo">
    <h1>ÖZCAN ASKI</h1>
  </div>
  <div class="container">
    <div id="login">
      <h2>Giriş Yap</h2>
      <input id="username" placeholder="Kullanıcı Adı">
      <input id="password" type="password" placeholder="Şifre">
      <button onclick="giris()">Giriş</button>
      <p id="error" style="color:red;"></p>
    </div>
    <div id="panel" style="display:none;">
      <h2 id="panelBaslik"></h2>
      <div id="form" style="display:none;">
        <input id="sube" placeholder="Şube Adı">
        <input id="urun" placeholder="Ürün Adı">
        <input id="adet" type="number" placeholder="Adet">
        <textarea id="not" placeholder="Not"></textarea>
        <select id="tur">
          <option>Normal</option>
          <option>Kargo</option>
          <option>Ambar</option>
        </select>
        <button onclick="siparisVer()">Sipariş Gönder</button>
      </div>
      <div class="filters" id="filtreler" style="display:none;">
        <button onclick="filtrele('Tümü')" class="active">Tümü</button>
        <button onclick="filtrele('Normal')">Normal</button>
        <button onclick="filtrele('Kargo')">Kargo</button>
        <button onclick="filtrele('Ambar')">Ambar</button>
      </div>
      <div id="liste"></div>
    </div>
  </div>
  <script>
    const kullanicilar = [
      { kullanici: "sube1", sifre: "ozcan123", rol: "sube" },
      { kullanici: "depo", sifre: "askidepo", rol: "depo" }
    ];
    let aktifKullanici = null;
    let siparisler = [];
    let aktifFiltre = "Tümü";

    function giris() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      const k = kullanicilar.find(x => x.kullanici === user && x.sifre === pass);
      if (k) {
        aktifKullanici = k;
        document.getElementById("login").style.display = "none";
        document.getElementById("panel").style.display = "block";
        document.getElementById("panelBaslik").innerText = k.rol === "sube" ? "Şube Paneli" : "Depo Paneli";
        if (k.rol === "sube") document.getElementById("form").style.display = "block";
        if (k.rol === "depo") document.getElementById("filtreler").style.display = "block";
        guncelle();
      } else {
        document.getElementById("error").innerText = "Hatalı giriş!";
      }
    }

    function siparisVer() {
      const sube = document.getElementById("sube").value;
      const urun = document.getElementById("urun").value;
      const adet = document.getElementById("adet").value;
      const not = document.getElementById("not").value;
      const tur = document.getElementById("tur").value;
      const tarih = new Date().toLocaleString();
      siparisler.push({ sube, urun, adet, not, tur, tarih, durum: "Alındı" });
      guncelle();
    }

    function durumGuncelle(i, d) {
      siparisler[i].durum = d;
      guncelle();
    }

    function filtrele(tur) {
      aktifFiltre = tur;
      document.querySelectorAll(".filters button").forEach(b => b.classList.remove("active"));
      [...document.querySelectorAll(".filters button")].find(b => b.innerText === tur).classList.add("active");
      guncelle();
    }

    function guncelle() {
      const div = document.getElementById("liste");
      div.innerHTML = "";
      siparisler.forEach((s, i) => {
        if (aktifFiltre !== "Tümü" && s.tur !== aktifFiltre) return;
        const el = document.createElement("div");
        el.className = "siparis";
        el.innerHTML = `
          <p><b>${s.sube}</b> - ${s.urun} (${s.adet})</p>
          <p>${s.not}</p>
          <p><b>Tür:</b> ${s.tur} | <i>${s.tarih}</i></p>
          <p><b>Durum:</b> ${s.durum}</p>
        `;
        if (aktifKullanici.rol === "depo") {
          el.innerHTML += `
            <button onclick="durumGuncelle(${i}, 'Hazırlanıyor')">Hazırlanıyor</button>
            <button onclick="durumGuncelle(${i}, 'Hazır')">Hazır</button>
            <button onclick="durumGuncelle(${i}, 'Yola Çıktı')">Yola Çıktı</button>
          `;
        }
        div.appendChild(el);
      });
    }
  </script>
</body>
</html>